2022-07-03  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-sh-no-ls--dired-p)
	(tramp--test-with-proper-process-name-and-buffer): Code cleanup.

2022-06-09  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test03-file-name-method-rules):
	Remove superfluous checks.

2022-06-07  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el: Don't require ert.
	(ert-remote-temporary-file-directory): Define if it doesn't exist.
	(tramp-test-temporary-file-directory): Remove.  Replace all uses
	by `ert-remote-temporary-file-directory'.

2022-06-03  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test31-signal-process): Skip on MS Windows.

2022-05-29  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test31-interrupt-process): Skip on MS Windows.

2022-05-21  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test43-file-system-info): Make test more robust.

2022-05-17  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-fuse-remove-hidden-files): Declare.
	(tramp-test16-directory-files)
	(tramp-test16-file-expand-wildcards)
	(tramp-test26-file-name-completion, tramp--test-check-files): Use it.
	(tramp--test-check-files): Delete directory recursively.

2022-05-15  Stefan Kangas  <stefan@marxist.se>

	* tramp-tests.el (tramp--test-asynchronous-processes-p)
	(tramp--test-expensive-test-p): Fix typos.

2022-05-11  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test27-load): Adapt test.

2022-05-09  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (with-connection-local-variables): Declare.
	(auto-save-file-name-transforms): Don't declare.
	(ert-resource-directory-format)
	(ert-resource-directory-trim-left-regexp)
	(ert-resource-directory-trim-right-regexp, ert-resource-directory)
	(ert-resource-file): Define if they don't exist.
	(tramp-test10-write-region-file-precious-flag)
	(tramp-test10-write-region-other-file-name-handler)
	(tramp-test31-interrupt-process, tramp-test31-signal-process)
	(tramp--test-async-shell-command)
	(tramp-test34-connection-local-variables)
	(tramp-test39-make-lock-file-name)
	(tramp-test39-detect-external-change): Extend tests.

2022-05-05  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tar-mode): Require.
	(tramp-test10-write-region-other-file-name-handler): New test.
	(tramp-test31-interrupt-process, tramp-test31-signal-process):
	Tag them :unstable unconditionally.

2022-04-27  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test46-read-password): Add a further check.

2022-04-25  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-error-show-message-timeout): Set it to nil.
	(tramp-test46-read-password): New test.
	(tramp-test47-threads, tramp-test48-auto-load)
	(tramp-test48-delay-load, tramp-test48-recursive-load)
	(tramp-test48-remote-load-path, tramp-test49-unload):
	* tramp-archive-tests.el (tramp-archive-test48-auto-load)
	(tramp-archive-test48-delay-load): Rename.

2022-04-12  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test31-list-system-processes)
	(tramp-test31-process-attributes): New tests.

2022-04-08  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test47-auto-load): Extend test.

2022-04-05  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test31-signal-process): New test.

2022-03-29  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test29-start-file-process)
	(tramp-test30-make-process, tramp-test31-interrupt-process)
	(tramp--test-async-shell-command): Check process property
	`remote-command'.

2022-03-17  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test48-unload): Do not skip.  Test reload.

2022-03-17  Lars Ingebrigtsen  <larsi@gnus.org>

	* tramp-tests.el (tramp-test30-make-process): This times out on EMBA.

2022-03-09  Lars Ingebrigtsen  <larsi@gnus.org>

	* tramp-tests.el (tramp-test44-asynchronous-requests):
	Mark timed-out EMBA test as unstable.

2022-03-07  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test05-expand-file-name-relative):
	Reorder checks.
	(tramp-test07-abbreviate-file-name):
	(tramp--test-ange-ftp-p): Adapt tests.

2022-02-24  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test18-file-attributes)
	(tramp-test20-file-modes): Adapt tests.

2022-02-22  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-check-files): Adapt test.

2022-02-16  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-check-files): Discriminate also
	tramp-sshfs.el.

2022-02-15  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-asynchronous-processes-p):
	Filter out tramp-adb on multi-byte `default-directory'.
	(tramp--test-hpux-p, tramp--test-macos-p): Protect against errors.

2022-02-13  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test28-process-file)
	(tramp--test-check-files, tramp-test48-unload): Extend tests.

2022-02-08  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-check-files): Test also remote
	`default-directory' for processes.  (Bug#53846)

2022-02-05  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test48-unload): Check also for autoloaded
	macros.  Respect `tramp-autoload' function property.

2022-02-04  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test39-detect-external-change):
	Improve backward compatibility.

2022-02-03  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test39-detect-external-change): New test.

2022-01-26  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-special-characters): Adapt test
	candidates.

2022-01-18  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test02-file-name-dissect)
	(tramp-test02-file-name-dissect-simplified)
	(tramp-test02-file-name-dissect-separate)
	(tramp-test07-abbreviate-file-name): Adapt tests.

2022-01-17  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test28-process-file): Extend test.

2021-12-27  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test18-file-attributes):
	Use `permission-denied' error.  Simplify code.
	(tramp-test24-file-acl, tramp-test26-file-name-completion):
	Simplify code.

2021-12-24  Michael Albinus  <michael.albinus@gmx.de>

	* README: Explain :tramp-asynchronous-processes selector.

	* tramp-tests.el (tramp-test29-start-file-process)
	(tramp--test--deftest-direct-async-process)
	(tramp-test30-make-process, tramp-test31-interrupt-process)
	(tramp-test34-explicit-shell-file-name)
	(tramp-test44-asynchronous-requests):
	Add :tramp-asynchronous-processes tag.
	(tramp--test-asynchronous-processes-p): New defun.
	(tramp-test32-shell-command, tramp-test33-environment-variables):
	Use it.
	(tramp--test-expensive-test-p): Rename from
	`tramp--test-expensive-test'.  Make it a defun.  Adapt all callees.

2021-12-22  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test07-file-exists-p)
	(tramp-test14-delete-directory, tramp-test29-start-file-process)
	(tramp-test30-make-process): Adapt tests.

2021-12-09  Michael Albinus  <michael.albinus@gmx.de>

	* Makefile.in (%.log): Suppress output.

	* tramp-tests.el (tramp-test07-abbreviate-file-name): Fix thinko.

2021-12-06  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-instrument-test-case)
	(tramp-test32-shell-command): Use `tramp-get-buffer-string'.

2021-12-06  Paul Eggert  <eggert@cs.ucla.edu>

	* tramp-tests.el (tramp--test-print-duration): Prefer nil to
	(current-time) when either will do, as this avoids some consing.
	Similarly, prefer omitting (current-time) arg when this is
	equivalent.

2021-11-20  Stefan Kangas  <stefan@marxist.se>

	* tramp-tests.el (tramp--test-utf8): Give 'eval' non-nil LEXICAL
	argument.

2021-11-19  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-get-remote-gid): Remove declaration.
	(tramp-test07-abbreviate-file-name): Skip Ange FTP test.

2021-11-18  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test07-abbreviate-file-name): Extend test.

2021-11-16  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test07-abbreviate-file-name): Extend test.

2021-11-15  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test07-abbreviate-file-name): Adapt test.
	(tramp-test17-insert-directory-one-file)
	(tramp--test-check-files): Use proper `no-dir' argument for
	`dired-get-filename'.

2021-11-15  Jim Porter  <jporterbugs@gmail.com>

	* tramp-tests.el (tramp-test07-abbreviate-file-name): New test.

2021-11-13  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test45-dired-compress-file)
	(tramp-test45-dired-compress-dir): Adapt comment.

2021-11-12  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive--test-emacs26-p): Remove.
	(tramp-archive-test02-file-name-dissect): Use `make-tramp-file-name'.
	(all): Replace Emacs 26 compatibility functions with their
	original name.
	(tramp-archive-test47-auto-load)
	(tramp-archive-test47-delay-load): Rename.

	* tramp-tests.el (dired-aux, seq): Require them.
	(dired-compress, connection-local-criteria-alist)
	(connection-local-profile-alist, async-shell-command-width):
	Don't declare.
	(all): Replace Emacs 26 compatibility functions with their
	original name.
	(tramp-test04-substitute-in-file-name)
	(tramp-test10-write-region, tramp-test11-copy-file)
	(tramp-test12-rename-file, tramp-test15-copy-directory)
	(tramp-test17-insert-directory)
	(tramp-test17-dired-with-wildcards, tramp-test21-file-links)
	(tramp-test31-interrupt-process)
	(tramp-test34-connection-local-variables)
	(tramp-test34-explicit-shell-file-name)
	(tramp-test40-make-nearby-temp-file)
	(tramp-test41-special-characters, tramp-test42-utf8)
	(tramp-test47-delay-load, tramp-test47-remote-load-path)
	(tramp-test48-unload): Don't check for Emacs 26 special features.
	(tramp--test-emacs26-p): Remove.
	(tramp--test-emacs29-p): New defun.
	(tramp-test45-dired-compress-file)
	(tramp-test45-dired-compress-dir): Use it.
	(tramp-test44-asynchronous-requests): Use `seq-random-elt'.

2021-11-12  Lars Ingebrigtsen  <larsi@gnus.org>

	* tramp-tests.el (tramp-test45-dired-compress-dir): Delete the
	temp file (bug#51690).

2021-11-07  Jim Porter  <jporterbugs@gmail.com>

	* tramp-tests.el: Rearrange tests to be in order.

2021-11-07  Tino Calancha  <tino.calancha@gmail.com>

	* tramp-tests.el (dired-compress): Declare.
	(tramp-test44-dired-compress-file)
	(tramp-test44-dired-compress-dir): New tests.

2021-10-29  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.5.1.4 released.

	* tramp-tests.el (tramp-test18-file-attributes): Adapt test.
	(tramp--test-supports-processes-p): New defun.
	(tramp-test28-process-file, tramp-test29-start-file-process)
	(tramp-test30-make-process, tramp-test32-shell-command)
	(tramp-test32-shell-command-dont-erase-buffer)
	(tramp-test34-explicit-shell-file-name, tramp-test35-exec-path)
	(tramp-test44-asynchronous-requests): Use it.

2021-10-20  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test46-auto-load):
	Adapt code snippet.

	* tramp-tests.el (tramp-test29-start-file-process)
	(tramp-test30-make-process): Adapt tests.
	(tramp--test-supports-set-file-modes-p): Renamed from
	`tramp--test-supports-file-modes-p'.  Adapt all callees.
	(tramp-test35-exec-path): Use it.

2021-10-19  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test29-start-file-process)
	(tramp-test30-make-process): Extend tests.
	(tramp--test-out-of-band-p): New defun.
	(tramp--test-windows-nt-and-out-of-band-p)
	(tramp-test42-utf8-with-stat, tramp-test42-utf8-with-perl)
	(tramp-test42-utf8-with-ls): Use it.
	(tramp--test-windows-nt-or-smb-p): Use `tramp--test-windows-nt-p'.

2021-10-18  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test17-insert-directory)
	(tramp-test18-file-attributes): Extend tests.

2021-10-14  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test29-start-file-process)
	(tramp-test30-make-process): Test filter equal t.

2021-10-03  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-fuse-unmount-on-cleanup): Declare.
	(tramp-test39-make-lock-file-name): Use it.

2021-09-29  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.5.1.3 released.

2021-09-28  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test29-start-file-process)
	(tramp-test30-make-process): Adapt for macOS.

2021-09-26  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-check-remote-uname): Declare.
	(tramp-test29-start-file-process, tramp-test30-make-process):
	Instrument for macOS.
	(tramp--test-hpux-p): Adapt function.
	(tramp--test-macos-p): New defun.

2021-09-16  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-telnet-p): New defun.
	(tramp-test29-start-file-process, tramp-test30-make-process)
	(tramp-test35-remote-path, tramp-test44-asynchronous-requests):
	Adapt tests.

2021-09-11  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test13-make-directory): Merge with
	`tramp-test-make-directory-helper' and
	`tramp-test13-make-directory-with-file-modes'.
	(tramp-test44-asynchronous-requests): Use always the same
	operation in timer.

2021-09-10  Stephen Gildea  <stepheng+emacs@gildea.com>

	* tramp-tests.el (tramp-test13-make-directory-with-file-modes): New test.

2021-09-07  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test26-file-name-completion): Do not check
	for default method.

2021-09-05  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test--deftest-direct-async-process):
	Fix macro declaration.
	(tramp-test29-start-file-process, tramp-test30-make-process):
	Do not run connection type test for direct async processes.

2021-08-30  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.5.1.2 released.

2021-08-24  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test29-start-file-process)
	(tramp-test30-make-process): Extend tests.

2021-08-23  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-ignore-make-symbolic-link-error):
	Move up.
	(tramp-test15-copy-directory): Extend test.

2021-08-22  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test15-copy-directory): Extend test.

2021-08-22  Glenn Morris  <rgm@gnu.org>

	* tramp-tests.el: Reduce hydra run time by 1 hour.
	It's just too slow to run these after every commit.

2021-08-12  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test30-make-process): Extend test.

2021-07-30  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.5.1.1 released.

2021-07-25  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test25-file-selinux): Fix test for
	sudoedit method.

2021-07-20  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test39-make-lock-file-name):
	Let-bind `auto-save-default'.  (Bug#49636)

2021-07-18  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test39-make-lock-file-name): Rename and
	extend.

2021-07-14  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (lock-file-name-transforms)
	(remote-file-name-inhibit-locks): Declare.
	(tramp-allow-unsafe-temporary-files): Set to t.
	(tramp-test37-make-auto-save-file-name)
	(tramp-test38-find-backup-file-name): Move binding of
	`tramp-allow-unsafe-temporary-files' up.
	(tramp-test39-lock-file): Bind `tramp-allow-unsafe-temporary-files'.
	Preserve backward compatibility.  Extend test.

2021-07-13  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test39-lock-file): Extend test.

2021-07-09  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (create-lockfiles): Don't set it globally.
	(tramp-test39-lock-file): Check also for `set-visited-file-name'.

2021-07-07  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test40-make-nearby-temp-file)
	(tramp-archive-test43-file-system-info)
	(tramp-archive-test46-auto-load)
	(tramp-archive-test46-delay-load): Rename.

	* tramp-tests.el (top): Set `create-lockfiles' to nil.
	(tramp--test-fuse-p): New defun.
	(tramp-test14-delete-directory): Use it.
	(tramp-test39-lock-file): New test.
	(tramp-test40-make-nearby-temp-file)
	(tramp-test41-special-characters)
	(tramp-test41-special-characters-with-stat)
	(tramp-test41-special-characters-with-perl)
	(tramp-test41-special-characters-with-ls, tramp-test42-utf8)
	(tramp-test42-utf8-with-stat, tramp-test42-utf8-with-perl)
	(tramp-test42-utf8-with-ls, tramp-test43-file-system-info)
	(tramp-test44-asynchronous-requests, tramp-test45-threads)
	(tramp-test46-auto-load, tramp-test46-delay-load)
	(tramp-test46-recursive-load, tramp-test46-remote-load-path)
	(tramp-test47-unload): Rename.
	(tramp--test-special-characters, tramp--test-utf8)
	(tramp--test-asynchronous-requests-timeout): Modify docstring.

2021-07-05  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-check-files): Filter out empty
	strings.  (Bug#49406)

2021-06-29  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.5.1 released.

	* tramp-tests.el (tramp--test-utf8): Adapt test for MS Windows.

2021-06-20  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test05-expand-file-name)
	(tramp-archive-test06-directory-file-name): Adapt tests.

2021-06-14  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-always): New defalias.
	(tramp-test10-write-region, tramp-test21-file-links)
	(tramp--test--deftest-direct-async-process): Use it.
	(tramp-test37-make-auto-save-file-name)
	(tramp-test38-find-backup-file-name): Extend tests.

2021-05-30  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.5.0.5 released.

2021-05-22  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test45-auto-load): Extend test.

2021-05-16  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test30-make-process): Rework for stderr buffer.

2021-05-13  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-instrument-test-case): Handle trace
	buffer accordingly.

2021-05-09  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test17-dired-with-wildcards): Don't skip
	on MS Windows.
	(tramp--test-windows-nt-and-scp-p): Remove.
	(tramp--test-special-characters): Skip for out-of-band methods on
	MS Windows, sometimes.

2021-05-07  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-instrument-test-case): Simplify.
	(tramp--test-special-characters): Adapt for MS Windows.

2021-05-06  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test40-special-characters)
	(tramp-test40-special-characters-with-stat)
	(tramp-test40-special-characters-with-perl)
	(tramp-test40-special-characters-with-ls): Don't skip for
	`tramp--test-windows-nt-and-scp-p'.

2021-04-29  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.5.0.4 released.

2021-04-14  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-method-out-of-band-p): Declare.
	(tramp--test-windows-nt-and-batch-p)
	(tramp--test-windows-nt-and-pscp-psftp-p): Remove, and also all callees.
	(tramp--test-windows-nt-and-out-of-band-p)
	(tramp--test-windows-nt-and-scp-p): New defuns.
	(tramp-test17-dired-with-wildcards)
	(tramp-test40-special-characters)
	(tramp-test40-special-characters-with-stat)
	(tramp-test40-special-characters-with-perl)
	(tramp-test40-special-characters-with-ls, tramp-test41-utf8)
	(tramp-test41-utf8-with-stat, tramp-test41-utf8-with-perl)
	(tramp-test41-utf8-with-ls): Use them.

2021-03-30  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.5.0.3 released.

2021-03-12  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test43-asynchronous-requests): Don't run
	for tramp-sshfs.

2021-03-11  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test20-file-modes)
	(tramp-test28-process-file, tramp-test29-start-file-process)
	(tramp-test30-make-process, tramp-test32-shell-command)
	(tramp-test32-shell-command-dont-erase-buffer)
	(tramp-test34-explicit-shell-file-name, tramp-test35-exec-path)
	(tramp-test43-asynchronous-requests): Run also for tramp-sshfs.
	(tramp--test-shell-file-name): New defun.
	(tramp-test28-process-file)
	(tramp-test34-explicit-shell-file-name)
	(tramp-test43-asynchronous-requests): Use it.
	(tramp-test40-special-characters-with-stat)
	(tramp-test40-special-characters-with-perl)
	(tramp-test40-special-characters-with-ls)
	(tramp-test41-utf8-with-stat, tramp-test41-utf8-with-perl)
	(tramp-test41-utf8-with-ls): Remove superfluous skip.

2021-03-08  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-sshfs-p): New defun.
	(tramp-test14-delete-directory): Use it.

2021-02-27  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.5.0.2 released.

2021-02-19  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test33-environment-variables):
	Adapt test.  (Bug#46625)

2021-02-17  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test05-expand-file-name-top): New test.

2021-02-03  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-gdrive-p): New defun.
	(tramp--test-nextcloud-p): Remove.
	(tramp-test40-special-characters-with-ls): Do not skip on MS Windows.
	(tramp-test41-utf8): Skip if needed.

2021-01-29  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.5.0.1 released.

	* tramp-tests.el (tramp--test-special-characters): Adapt test for docker.

2021-01-27  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test17-insert-directory-one-file):
	Skip for tamp-crypt.el.
	(tramp--test-sh-no-ls--dired-p): Ignore errors.

2021-01-24  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-hpux-p, tramp--test-ksh-p):
	Remove superfluous nil.
	(tramp--test-sh-no-ls--dired-p): New defun.
	(tramp--test-special-characters): Use it.

2021-01-22  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test34-explicit-shell-file-name):
	Use `get-buffer-process' where appropriate.

2021-01-19  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test07-file-exists-p)
	(tramp-test14-delete-directory)
	(tramp-test43-asynchronous-requests): Skip for MS Windows.

2021-01-15  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (all): Replace `string-match' by `string-match-p'.
	(dired-copy-dereference): Declare.
	(tramp-test-temporary-file-directory):
	Remove `tramp-direct-async-args` for mock method.
	(tramp-test15-copy-directory, tramp-test40-special-characters)
	(tramp-test40-special-characters-with-stat)
	(tramp-test40-special-characters-with-perl)
	(tramp-test40-special-characters-with-ls, tramp-test41-utf8)
	(tramp-test41-utf8-with-stat, tramp-test41-utf8-with-perl)
	(tramp-test41-utf8-with-ls): Skip for tramp-rclone.el.
	(tramp--test--deftest-direct-async-process): Do not skip for mock
	method.
	(tramp-test32-shell-command): Adapt test for direct async processes.
	(tramp-test36-vc-registered, tramp--test-hpux-p, tramp--test-ksh-p):
	Use `tramp-test-vec'.

2021-01-10  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test17-insert-directory-one-file): New test.

2021-01-08  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test31-interrupt-process): Tag it
	:unstable on hydra.

2021-01-04  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-check-files): Extend test.

2020-12-29  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.5.0 released.

	* tramp-tests.el (tramp--test--deftest-direct-async-process):
	Check, that `make-process' supports file name handlers.  Suppress
	`internal-default-process-sentinel'.
	(tramp--test-async-shell-command): Set `proc' proper.
	(tramp-test32-shell-command-direct-async): Tag it :unstable.

2020-12-25  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test31-interrupt-process)
	(tramp-test43-asynchronous-requests): Tag them :unstable on emba.

2020-12-20  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test--deftest-direct-async-process):
	Skip for mock method.
	(tramp--test-async-shell-command): Suppress `shell-command-sentinel'.
	(tramp-test32-shell-command, tramp-test33-environment-variables):
	Adapt tests.
	(tramp-test32-shell-command-direct-async)
	(tramp-test33-environment-variables-direct-async): New tests.

2020-12-14  Michael Albinus  <michael.albinus@gmx.de>

	* .gitignore: Add *.log.

	* Makefile.in (WRITE_LOG): New variable.
	(%-tests): Use it.
	(%.log): New target.

	* tramp-tests.el (tramp-test43-asynchronous-requests):
	Adapt test.  Remove :unstable tag.

2020-11-30  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test-vec): Check for remote
	`tramp-test-temporary-file-directory'.
	(tramp-test29-start-file-process): Use `tramp--test-windows-nt-p'.
	(tramp--test-sh-p): Use `tramp-test-vec'.

2020-11-28  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test11-copy-file)
	(tramp-test12-rename-file): Do not skip for tramp-gvfs.el.

2020-11-25  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test29-start-file-process): Do not test
	remote pty on MS Windows.

2020-11-13  Michael Albinus  <michael.albinus@gmx.de>

	* Makefile.in: Revert last change.

	* tramp-tests.el (tramp-test07-file-exists-p): Check also for
	symlinked files in trash.
	(tramp-test20-file-modes): Revert last change, it was a thinko.

2020-11-05  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-share-p): New defun.
	(tramp-test05-expand-file-name-relative): Use it.
	(tramp-test16-directory-files)
	(tramp-test19-directory-files-and-attributes): Strengthen test.
	(tramp-test20-file-modes): Simplify check.

2020-11-03  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test14-delete-directory): Do not run trash
	test for ange-ftp.
	(tramp-test16-directory-files)
	(tramp-test19-directory-files-and-attributes): Check COUNT argument.

2020-11-01  Michael Albinus  <michael.albinus@gmx.de>

	* Makefile.in (ENV): New variable.
	(%-tests): Use it.

	* tramp-tests.el (tramp-test07-file-exists-p)
	(tramp-test14-delete-directory): Add trashing.

2020-10-24  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test29-start-file-process): Extend test.

2020-10-16  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (ert-resource-directory-format)
	(ert-resource-directory-trim-left-regexp)
	(ert-resource-directory-trim-right-regexp, ert-resource-directory)
	(ert-resource-file): Define if they don't exist.

2020-10-16  Stefan Kangas  <stefan@marxist.se>

	Use new resource directory macros in tests (Bug#43792)

	* tramp-archive-tests.el (tramp-archive-test-resource-directory):
	Remove.
	(tramp-archive-test-file-archive, tramp-archive-test-directory):
	Adjust to use new resource directory macros.

2020-10-08  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test32-shell-command-dont-erase-buffer):
	Adapt test.  Tag it :unstable.

2020-09-13  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el
	(tramp-archive-test-file-archive-hexlified): New defun.
	(tramp-archive-test02-file-name-dissect): Use it.  (Bug#43353)

2020-09-05  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-list-tramp-buffers, tramp-time-diff):
	Don't declare.
	(tramp-test30-make-process): Adapt test.

2020-09-04  Eli Zaretskii  <eliz@gnu.org>

	Fix 'expand-file-name' for remote files

	* tramp-tests.el (tramp-test05-expand-file-name): No need to
	expect different results in Emacs 28 and later.

2020-08-28  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test04-substitute-in-file-name):
	Make user name unique.  (Bug#43052)

2020-08-27  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test05-expand-file-name)
	(tramp-test05-expand-file-name-relative): Adapt tests.

2020-08-27  Paul Eggert  <eggert@cs.ucla.edu>

	Fix expand-file-name symlink-to-dir bug

	Problem reported by Yegor Timoshenko (Bug#26911),
	and I ran into it myself recently in normal-top-level.

	* tramp-tests.el (tramp-test05-expand-file-name):
	Adjust to match new behavior.
	(tramp-test05-expand-file-name-relative): This test now succeeds,
	at least on Fedora 31.

2020-08-24  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test28-process-file): Remove instrumentation.
	(tramp--test--deftest-direct-async-process): Adapt docstring.
	(tramp--test-windows-nt-p, tramp--test-windows-nt-and-batch-p):
	Rename from `tramp--test-windows-nt', `tramp--test-windows-nt-and-batch'.

2020-08-23  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test-temporary-file-directory):
	Add `tramp-direct-async-args` for mock method.
	(tramp-test28-process-file): Instrument test.
	(tramp-test29-start-file-process, tramp-test30-make-process):
	Use weaker regexp checking "foo".
	(tramp-test30-make-process): Do not check stderr for direct async
	processes.
	(tramp--test--deftest-direct-async-process): New defmacro.
	(tramp-test29-start-file-process-direct-async)
	(tramp-test30-make-process-direct-async): New tests.

2020-08-04  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test03-file-name-method-rules): Adapt test.
	(tramp--test-sh-p): Use `tramp-sh-file-name-handler-p'.

2020-08-02  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test33-environment-variables)
	(tramp-test33-environment-variables-and-port-numbers): Do not use
	"echo -n", it isn't portable.
	(tramp--test-utf8): Filter out not displayable characters.

2020-08-01  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test28-process-file): Accept alternative
	signal return string.

2020-07-29  Michael Albinus  <michael.albinus@gmx.de>

	* README: Add another example how to use SELECTOR.

2020-07-11  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-utf8): Extend test.

2020-06-23  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (trace): Require it.
	(tramp--test-instrument-test-case): Print also function traces.
	(tramp--test-smb-p): New defun.
	(tramp-test03-file-name-method-rules)
	(tramp-test05-expand-file-name-relative)
	(tramp-test21-file-links, tramp--test-windows-nt-or-smb-p)
	(tramp--test-check-files): Use it.

2020-06-21  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test41-utf8)
	(tramp-test41-utf8-with-stat, tramp-test41-utf8-with-perl)
	(tramp-test41-utf8-with-ls): Skip if needed.

2020-06-14  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test17-dired-with-wildcards): Skip if needed.

2020-06-12  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test17-insert-directory): Skip if needed.

2020-06-10  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test09-insert-file-contents): Adapt test.

2020-06-09  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el: Adapt call convention for (tramp--test-crypt-p).

2020-06-07  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-crypt-p): New defun.
	(tramp-test24-file-acl, tramp-test25-file-selinux)
	(tramp-test28-process-file, tramp-test29-start-file-process)
	(tramp-test30-make-process, tramp-test31-interrupt-process)
	(tramp-test32-shell-command)
	(tramp-test32-shell-command-dont-erase-buffer)
	(tramp-test33-environment-variables)
	(tramp-test33-environment-variables-and-port-numbers)
	(tramp-test34-explicit-shell-file-name, tramp-test35-exec-path)
	(tramp-test35-remote-path, tramp-test36-vc-registered)
	(tramp--test-check-files, tramp-test43-asynchronous-requests): Use it.

2020-05-16  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test28-process-file): Adapt test.

2020-05-13  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test28-process-file): Adapt test.
	(tramp-test33-environment-variables): Unset "INSIDE_EMACS" initially.

2020-05-07  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test28-process-file): Adapt test.

2020-05-06  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test28-process-file): Adapt test.

2020-05-04  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test33-environment-variables): Adapt test.

2020-04-26  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test32-shell-command-dont-erase-buffer):
	Adapt test.

2020-04-24  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test32-shell-command-dont-erase-buffer):
	Tag it :unstable.

2020-04-14  Mattias Engdegård  <mattiase@acm.org>

	* tramp-archive-tests.el
	(tramp-archive-test19-directory-files-and-attributes):
	* tramp-tests.el (tramp-test19-directory-files-and-attributes):
	Replace ^ and $ with \` and \', respectively.

2020-04-06  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test-vec): New defconst.
	(tramp--test-enabled, tramp--test-message)
	(tramp--test-backtrace, tramp-test03-file-name-host-rules)
	(tramp-test18-file-attributes, tramp-test20-file-modes)
	(tramp-test26-file-name-completion)
	(tramp-test33-environment-variables, tramp-test35-remote-path)
	(tramp-test36-vc-registered, )
	(tramp-test43-asynchronous-requests): Use it.
	(tramp-test35-remote-path): Rewrite partially.

2020-03-21  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test10-write-region): Extend test.

2020-03-09  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test22-file-times): Extend test.

2020-03-08  Paul Eggert  <eggert@cs.ucla.edu>

	* tramp-tests.el (tramp-test22-file-times):
	When setting file times, avoid following symbolic links
	when the file is not supposed to be a symbolic link.

2020-02-26  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-get-remote-chmod-h): Declare.
	(tramp--test-ignore-make-symbolic-link-error): Revert last change.
	(tramp-test20-file-modes): Adapt test.

2020-02-25  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-ignore-make-symbolic-link-error):
	Check also for "Cannot chmod .* with nofollow flag" error.
	(tramp-test20-file-modes): Extend test.
	(tramp--test-emacs28-p): New defun.

2020-02-14  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test29-start-file-process)
	(tramp-test30-make-process): Improve for MS-Windows.

2020-02-13  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test06-directory-file-name)
	(tramp-test26-file-name-completion): Simplify.
	(tramp-test31-interrupt-process): Remove :unstable tag.

2020-02-12  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-get-remote-gid): Declare.
	(tramp-test18-file-attributes): Check `file-ownership-preserved-p'
	only if possible.
	(tramp-test30-make-process): Modify test due to *BSD.

2020-02-05  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test32-shell-command): Set `default-directory'.

2020-02-02  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test32-shell-command-dont-erase-buffer):
	Fix docstring.

2020-02-01  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (shell-command-dont-erase-buffer): Declare.
	(tramp-test10-write-region, tramp-test21-file-links): Use function
	symbols.
	(tramp--test-async-shell-command): Don't assume that
	`async-shell-command' returns the process object.
	(tramp-test32-shell-command): Rework `async-shell-command-width' test.
	(tramp-test32-shell-command-dont-erase-buffer): New test.

2020-01-27  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test31-interrupt-process):
	Bind `delete-exited-processes'.
	(tramp--test-async-shell-command): Bind `delete-exited-processes'.
	Add additional `accept-process-output'.  Move cleanup of output
	buffer ...
	(tramp-test32-shell-command): ... here.  Test error buffer also
	for `async-shell-command'.

2020-01-24  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test32-shell-command): Test error buffer
	for synchronous `shell-command' only.

2020-01-19  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-message-show-message): Don't set.

	* tramp-tests.el (inhibit-message): Don't declare.
	(tramp-message-show-message): Don't set.
	(tramp-test06-directory-file-name): Use `non-essential'.
	(tramp-test10-write-region): Use `inhibit-message'.
	(tramp-test36-vc-registered): No special handling for old Emacsen.
	(tramp--test-emacs25-p): Remove.
	(tramp-test46-unload): Special case of `tramp-completion-mode'.

2020-01-14  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test31-interrupt-process): Tag it :unstable.
	Change `accept-process-output' arguments.
	(tramp--test-async-shell-command): New defun.
	(tramp--test-shell-command-to-string-asynchronously): Use it.
	(tramp-test32-shell-command): Refactor code.

2020-01-07  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test30-make-process)
	(tramp-test32-shell-command): Test asynchronous stderr for tramp-adb.

2020-01-06  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test30-make-process):
	(tramp-test32-shell-command): Extend for asynchronous stderr.

2019-12-29  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.4.3 released.

	* tramp-tests.el (tramp-test30-make-process): Simplify buffer
	generation.
	(tramp-test32-shell-command): Extend test.

2019-12-22  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (inhibit-message)
	(connection-local-criteria-alist)
	(connection-local-profile-alist, async-shell-command-width): Declare.
	(tramp-test01-file-name-syntax)
	(tramp-test02-file-name-dissect): Set syntax to `default'.
	(tramp-test03-file-name-defaults)
	(tramp-test03-file-name-host-rules)
	(tramp-test03-file-name-method-rules)
	(tramp-test04-substitute-in-file-name)
	(tramp-test05-expand-file-name)
	(tramp-test06-directory-file-name, tramp-test45-auto-load):
	Skip unless syntax is `default'.
	(tramp-test06-directory-file-name, tramp-test10-write-region)
	(tramp-test17-dired-with-wildcards)
	(tramp-test26-file-name-completion): Handle IPv6 host names.
	(tramp-test21-file-links): Support all syntaxes.
	(tramp-test30-make-process, tramp-test46-unload):
	Suppress compiler warnings.
	(tramp-test37-make-auto-save-file-name): Skip for `separate' syntax.

2019-12-01  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test10-write-region)
	(tramp-test10-write-region-file-precious-flag)
	(tramp-test34-connection-local-variables)
	(tramp-test36-vc-registered): Let-bind `inhibit-message'.

2019-11-29  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.4.2.5 released.

2019-11-13  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test-all):
	* tramp-tests.el (tramp--test-gvfs-p)
	(tramp--test-with-proper-process-name-and-buffer)
	(tramp-test-all): Adapt docstrings according to `checkdoc'.

2019-11-07  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (ange-ftp-make-backup-files): Declare.
	(tramp-test39-make-nearby-temp-file, tramp--test-ange-ftp-p): New defun.
	(tramp-test05-expand-file-name-relative)
	(tramp-test06-directory-file-name, tramp-test10-write-region)
	(tramp-test11-copy-file, tramp-test12-rename-file)
	(tramp-test17-insert-directory)
	(tramp-test26-file-name-completion)
	(tramp-test37-make-auto-save-file-name)
	(tramp-test38-find-backup-file-name)
	(tramp--test-special-characters): Use it.

2019-11-06  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test04-substitute-in-file-name): Fix thinko.
	(tramp-test13-make-directory, tramp-test14-delete-directory)
	(tramp-test15-copy-directory): Extend tests.

2019-11-04  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test11-copy-file)
	(tramp-test12-rename-file, tramp-test14-delete-directory)
	(tramp-test15-copy-directory, tramp-test16-directory-files)
	(tramp-test19-directory-files-and-attributes): Extend tests.

2019-10-31  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test04-substitute-in-file-name):
	Skip some tests for Emacs 24 and 25; they let Emacs crash.

2019-10-30  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.4.2.4 released.

2019-10-27  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-timeout-handler): Improve trace format.

2019-10-17  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (remote-file-name-inhibit-cache): Set to nil.

2019-10-12  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test17-insert-directory):
	Adapt regexp of summary line.

	* tramp-tests.el (tramp-test21-file-links): Extend test for
	symlinked directories.

2019-09-26  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.4.2.3 released.

	* tramp-tests.el (tramp--test-ksh-p): New defun.
	(tramp-test41-utf8, tramp-test41-utf8-with-stat)
	(tramp-test41-utf8-with-perl, tramp-test41-utf8-with-ls):
	Skip, when remote shell is ksh.

2019-09-18  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test11-copy-file): Simplify check for
	owncloud/nextcloud connections.

2019-09-13  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test33-environment-variables):
	Use ${parameter:-word} construct.  Remove PS1 entry from
	"printenv" output.
	(tramp--test-check-files): Use "printenv".

2019-09-01  Glenn Morris  <rgm@gnu.org>

	* tramp-tests.el (tramp-test21-file-links): More cleanup.

2019-08-30  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-check-files): Test also
	`directory-files-and-attributes'.  (Bug#37228)

2019-08-29  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.4.2.2 released.

2019-08-27  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-check-files): Do not search for
	environment variables on macOS.  (Bug#36940)

2019-08-26  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-file-attributes-equal-p):
	Handle link number.
	(tramp--test-check-files): Encode search string on macOS.  (Bug#36940)

2019-08-24  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test22-file-times): Do not compare time
	value lists by `equal'.  (Bug#36940)
	(tramp-test30-make-process): Adapt "kill" message to match on macOS.

2019-08-11  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-start-time): New defvar.
	(tramp--test-file-attributes-equal-p)
	(tramp-test19-directory-files-and-attributes): Use it.
	(tramp-test18-file-attributes)
	(tramp--test-file-attributes-equal-p, tramp-test20-file-modes)
	(tramp-test22-file-times, tramp--test-check-files):
	Use `tramp-compat-file-attribute-*' functions.

2019-08-10  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-file-attributes-equal-p): Use a time
	offset in order to compensate different times on local and remote
	machines.

2019-08-08  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-file-attributes-equal-p):
	Improve time arithmetic.

2019-08-07  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-file-attributes-equal-p): Make the
	check more precise.  (Bug#36940)

2019-08-06  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-file-attributes-equal-p): Make the
	check more precise.  (Bug#36940)
	(tramp-test19-directory-files-and-attributes): Move some checks to
	`tramp--test-file-attributes-equal-p'.

2019-08-05  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-time-diff): Declare.
	(tramp--test-file-attributes-equal-p): Handle also modification
	and status change time.

2019-08-04  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test20-file-modes)
	(tramp-test22-file-times): Do not skip for tramp-gvfs.el.

2019-07-29  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.4.2.1 released.

2019-07-22  Mattias Engdegård  <mattiase@acm.org>

	* tramp-tests.el (tramp-test17-insert-directory): Match a greater
	variety of human-readable size values.

2019-07-18  Glenn Morris  <rgm@gnu.org>

	* tramp-tests.el (tramp-test17-insert-directory): Handle optional
	unit suffix in free space.

2019-07-12  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test11-copy-file)
	(tramp-test12-rename-file): Extend tests.

2019-07-01  Michael Albinus  <michael.albinus@gmx.de>

	* README: Mention :unstable selector.

2019-06-30  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.4.2 released.

	* tramp-tests.el (tramp--test-instrument-test-case):
	Add `add-name-to-file' error message.
	(tramp--test-ignore-add-name-to-file-error): Make error handler
	more explicit about the error.

2019-06-28  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test02-file-name-dissect)
	(tramp-test02-file-name-dissect-simplified)
	(tramp-test02-file-name-dissect-separate)
	(tramp-test03-file-name-host-rules)
	(tramp-test03-file-name-method-rules): Don't check for `user-error'.
	(tramp-test43-asynchronous-requests): Skip.

2019-06-24  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-instrument-test-case): Do not bind
	`tramp-debug-on-error'.
	(tramp--test-ignore-make-symbolic-link-error): Make error handler
	more explicit about the error.

2019-06-15  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test31-interrupt-process): Use a timeout
	when reading process output.

2019-06-14  Glenn Morris  <rgm@gnu.org>

	* tramp-tests.el (tramp-test10-write-region-file-precious-flag):
	Avoid leaving a backup file after we are done.

2019-06-11  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test32-shell-command): Ignore absence of tput.
	(tramp-test43-asynchronous-requests): Don't start watchdog on w32.

2019-06-10  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-list-tramp-buffers): Declare it.
	(tramp--test-ignore-make-symbolic-link-error)
	(tramp--test-ignore-add-name-to-file-error): Improve declaration.
	(tramp--test-with-proper-process-name-and-buffer): New macro.
	(tramp-test43-asynchronous-requests): Use the macro for timer,
	process filter and process sentinel.  Comment the remote file
	operation in the timer.  Remove further async events.  Accept
	output from all processes.

2019-06-04  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test02-file-name-dissect):
	Suppress check for wrong method.

	* tramp-tests.el (tramp--test-instrument-test-case): Dump *all*
	Tramp buffers.
	(tramp-test02-file-name-dissect)
	(tramp-test02-file-name-dissect-simplified)
	(tramp-test02-file-name-dissect-separate): Check also wrong method.
	(tramp-test03-file-name-defaults): Check, that the respective
	Tramp package is loaded.
	(tramp-test04-substitute-in-file-name)
	(tramp-test05-expand-file-name)
	(tramp-test06-directory-file-name, tramp-test45-auto-load):
	Suppress check for wrong method.
	(tramp-test30-make-process): Remove instrumentation code.
	(tramp-test31-interrupt-process, tramp-test36-vc-registered):
	Guarantee that connection is established prior starting process.

2019-05-18  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test17-insert-directory): Add error name
	to test.
	(tramp-test30-make-process, tramp-test44-threads)
	(tramp-test46-unload): Suppress compiler warnings from older Emacsen.

2019-05-09  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (cl-lib): Require instead of cl-seq.

2019-05-08  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test10-write-region-file-precious-flag):
	Skip for Emacs < 27.

2019-05-08  Jonathan Tomer  <jktomer@google.com>

	* tramp-tests.el (tramp-test10-write-region-file-precious-flag):
	Regression tests for Bug#35497.

2019-05-06  Juri Linkov  <juri@linkov.net>

	* tramp-tests.el (tramp-test32-shell-command): Rename
	`async-shell-command-width'.

2019-04-29  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-timeout-handler): Instrument.

2019-04-22  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test32-shell-command): Check for backward
	compatibility.
	(tramp-test33-environment-variables): Apply a better check for
	unset variable.

2019-04-19  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test32-shell-command): Check "tput" before
	running `shell-command-width' test.

2019-04-18  Philipp Stephani  <phst@google.com>

	* tramp-tests.el (tramp--test-file-attributes-equal-p):
	Use ERT explainer for 'equal' to improve failure messages.

2019-04-17  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-shell-command-to-string-asynchronously):
	Move up.
	(tramp-test32-shell-command): Test `shell-command-width'.

2019-04-13  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test36-vc-registered): Use ert-skip
	instead of (skip-unless nil).

2019-04-05  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test30-make-process): Instrument test.
	Adapt check string.
	(tramp-test34-explicit-shell-file-name)
	(tramp-test43-asynchronous-requests): Skip tests for tramp-adb
	with older Emacsen.

2019-04-04  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test43-asynchronous-requests): Make it fit
	for tramp-adb.  Apply better check in process filter.
	(tramp-test44-threads): Skip unless in feature branch.

2019-04-03  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test29-start-file-process)
	(tramp-test30-make-process): Run also for tramp-adb.
	(tramp-test32-shell-command): Remove tramp-adb restrictions.
	(tramp-test34-explicit-shell-file-name): Rework.  Remove :unstable tag.

2019-03-23  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test34-explicit-shell-file-name): Tag it
	:unstable.

2019-03-22  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test32-shell-command): Let it run partly
	for tramp-adb.

2019-03-09  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test34-connection-local-variables): New test.
	(tramp-test34-explicit-shell-file-name): Run it also for tramp-adb.
	Bind connection-local-{profile,criteria}-alist.  Use tramp-adb
	specific `shell-file-name'.  Add safe-local-variable property to
	`explicit-shell-file-name' and `explicit-sh-args'.

2019-03-06  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test01-file-name-syntax)
	(tramp-test01-file-name-syntax-simplified)
	(tramp-test01-file-name-syntax-separate): Use neutral IPv4 address.
	(tramp-test05-expand-file-name): Check also "." and "".

2019-03-05  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test01-file-name-syntax)
	(tramp-test01-file-name-syntax-simplified)
	(tramp-test01-file-name-syntax-separate): Check also an IPv4
	mapped IPv6 address.

2019-02-28  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test39-make-nearby-temp-file)
	(tramp-archive-test42-file-system-info)
	(tramp-archive-test45-auto-load)
	(tramp-archive-test45-delay-load): Rename.

	* tramp-archive-tests.el:
	* tramp-tests.el: Use proper read syntax for all function names.

2019-02-21  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test44-threads): Use timeout.

2019-02-19  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test17-insert-directory)
	(tramp-archive-test18-file-attributes):
	* tramp-tests.el (tramp-test17-insert-directory)
	(tramp-test18-file-attributes): Test error cases.

2019-02-18  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-shell-command-to-string-asynchronously):
	Increase timeout on emba.

2019-02-03  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-timeout-handler): Move up.
	(tramp-test29-start-file-process, tramp-test30-make-process)
	(tramp-test32-shell-command)
	(tramp--test-shell-command-to-string-asynchronously): Use it.
	(tramp-test35-remote-path): Suppress warning.
	(tramp--test-asynchronous-requests-timeout): New defconst.
	(tramp-test43-asynchronous-requests): Skip if not the only test.
	Use `tramp--test-asynchronous-requests-timeout'.
	Use `start-process-shell-command' for watchdog.  Add timeout in
	timer function.  Print status messages.  Remove file operations
	from sentinel.  Suppress timers in `accept-process-output'.
	(tramp-test44-threads): Improve check for thread support.

2019-01-30  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test43-asynchronous-requests): Tag it
	:unstable also for emba.  Adapt `accept-process-output' arguments.

2019-01-29  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test29-start-file-process)
	(tramp-test30-make-process, tramp-test31-interrupt-process)
	(tramp-test32-shell-command)
	(tramp--test-shell-command-to-string-asynchronously)
	(tramp-test43-asynchronous-requests):
	Adapt `accept-process-output' arguments.
	(tramp-test44-threads): Skip for older Emacsen.

2019-01-28  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test03-file-name-defaults): Adapt test.

2019-01-23  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-instrument-test-case): Adapt docstring.

2019-01-22  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test06-directory-file-name):
	Bind `tramp-default-method'.
	(tramp--test-file-attributes-equal-p): New defsubst.
	(tramp-test19-directory-files-and-attributes): Use it.

2019-01-16  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test43-asynchronous-requests):
	Remove :unstable tag on emba.

2018-12-27  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.4.1 released.

2018-12-24  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test30-make-process): New test.
	(tramp-test31-interrupt-process, tramp-test32-shell-command)
	(tramp-test33-environment-variables)
	(tramp-test33-environment-variables-and-port-numbers)
	(tramp-test34-explicit-shell-file-name, tramp-test35-exec-path)
	(tramp-test35-remote-path, tramp-test36-vc-registered)
	(tramp-test37-make-auto-save-file-name)
	(tramp-test38-find-backup-file-name)
	(tramp-test39-make-nearby-temp-file)
	(tramp-test40-special-characters)
	(tramp-test40-special-characters-with-stat)
	(tramp-test40-special-characters-with-perl)
	(tramp-test40-special-characters-with-ls, tramp-test41-utf8)
	(tramp-test41-utf8-with-stat, tramp-test41-utf8-with-perl)
	(tramp-test41-utf8-with-ls, tramp-test42-file-system-info)
	(tramp-test43-asynchronous-requests, tramp-test44-threads)
	(tramp-test45-auto-load, tramp-test45-delay-load)
	(tramp-test45-recursive-load, tramp-test45-remote-load-path)
	(tramp-test46-unload): Rename.

2018-12-20  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test34-remote-path): New test.

2018-12-19  Rob Browning  <rlb@defaultvalue.org>

	Avoid test failures if directory name looks like a regexp

	* tramp-tests.el (tramp-test44-remote-load-path):
	Regexp-quote file names to avoid failures with directory names
	of the form "build/emacs-i87jK3/emacs-26.1+1/...".

2018-12-17  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-copy-size-limit)
	(tramp-persistency-file-name): Declare.

	* tramp-tests.el (tramp-connection-properties)
	(tramp-display-escape-sequence-regexp)
	(tramp-inline-compress-start-size, tramp-remote-path): Declare.

2018-12-16  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-sudoedit-p): New defun.
	(tramp-test20-file-modes, tramp-test22-file-times)
	(tramp--test-sudoedit-p): Use it.

2018-12-09  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test03-file-name-host-rules): Use proper
	error symbol.

2018-12-06  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test02-file-name-dissect)
	(tramp-test02-file-name-dissect-simplified)
	(tramp-test02-file-name-dissect-separate): Suppress check for multihops.
	(tramp-test03-file-name-method-rules): Check for error if multi
	hops cannot be applied.
	(tramp--test-rclone-p): New defun.
	(tramp-test05-expand-file-name-relative)
	(tramp--test-special-characters): Use it.

2018-11-06  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test02-file-name-dissect)
	(tramp-test02-file-name-dissect-simplified)
	(tramp-test02-file-name-dissect-separate): Extend tests.

2018-10-20  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test02-file-name-dissect)
	(tramp-test02-file-name-dissect-simplified)
	(tramp-test02-file-name-dissect-separate)
	(tramp-test26-file-name-completion): Extend tests.

2018-10-12  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-timeout-handler):
	Add docstring.  Remove `interactive' call.
	(tramp-test43-threads): Protect cleanup code.

2018-09-29  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test19-directory-files-and-attributes)
	(tramp-test22-file-times): Use `tramp-compat-time-equal-p' and
	`tramp-time-dont-know'.
	(tramp-test23-visited-file-modtime): Extend test.

2018-09-29  Paul Eggert  <eggert@cs.ucla.edu>

	* tramp-tests.el (tramp-test23-visited-file-modtime): Don't assume
	detailed format of returned Lisp timestamps.

2018-09-02  Michael Albinus  <michael.albinus@gmx.de>

	* Makefile.in (%-tests): Ignore errors.

2018-08-31  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test43-threads): Use `thread-live-p'.

2018-08-29  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test22-file-times): Use `seconds-to-time'.

2018-08-09  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test45-unload): Handle tramp-archive
	autoloaded objects.  Remove tag :unstable.  (Bug#32304)

2018-08-08  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test44-auto-load): Add skip condition.
	(tramp-test45-unload): Tag as :unstable.

	* tramp-archive-tests.el (tramp-archive-test07-file-exists-p)
	(tramp-archive-test08-file-local-copy)
	(tramp-archive-test09-insert-file-contents)
	(tramp-archive-test11-copy-file)
	(tramp-archive-test15-copy-directory)
	(tramp-archive-test16-directory-files)
	(tramp-archive-test17-insert-directory)
	(tramp-archive-test18-file-attributes)
	(tramp-archive-test19-directory-files-and-attributes)
	(tramp-archive-test20-file-modes)
	(tramp-archive-test21-file-links)
	(tramp-archive-test26-file-name-completion)
	(tramp-archive-test44-auto-load)
	(tramp-archive-test44-delay-load): Tag them as :expensive-test,
	because they run longer than 10 seconds.  (Bug#30807)

	* tramp-tests.el (tramp-test45-unload): Filter out tramp-archive
	objects.  (Bug#32304)

2018-08-04  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-nextcloud-p): Rename from
	`tramp--test-owncloud-p'.
	(tramp-test11-copy-file, tramp-test12-rename-file): Use it.

2018-07-23  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test44-auto-load)
	(tramp-archive-test44-delay-load): Rename.

	* tramp-tests.el (tramp-test43-threads): New test.
	(tramp-test44-auto-load, tramp-test44-delay-load)
	(tramp-test44-recursive-load, tramp-test44-remote-load-path)
	(tramp-test45-unload): Rename.

2018-07-06  Michael Albinus  <michael.albinus@gmx.de>

	* Makefile.in: Use proper spelling "Tramp".

2018-07-01  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test03-file-name-host-rules):
	Cleanup before running the test.

2018-06-29  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.4.0 released.

	* tramp-tests.el (tramp-test42-asynchronous-requests): Tag as :unstable.

2018-06-25  Michael Albinus  <michael.albinus@gmx.de>

	* Makefile.in (%-tests): Do not suppress errors.

2018-06-22  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test34-exec-path): Check for `fboundp'.
	Use `file-remote-p'.  Hide compiler warning for older Emacsen.

2018-06-20  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test38-make-nearby-temp-file)
	(tramp-archive-test41-file-system-info)
	(tramp-archive-test43-auto-load)
	(tramp-archive-test43-delay-load): Rename.

	* tramp-tests.el (tramp-test34-exec-path): New test.
	(tramp-test36-make-auto-save-file-name)
	(tramp-test37-find-backup-file-name)
	(tramp-test38-make-nearby-temp-file)
	(tramp-test39-special-characters)
	(tramp-test39-special-characters-with-stat)
	(tramp-test39-special-characters-with-perl)
	(tramp-test39-special-characters-with-ls, tramp-test40-utf8)
	(tramp-test40-utf8-with-stat, tramp-test40-utf8-with-perl)
	(tramp-test40-utf8-with-ls, tramp-test41-file-system-info)
	(tramp-test42-asynchronous-requests, tramp-test43-auto-load)
	(tramp-test43-delay-load, tramp-test43-recursive-load)
	(tramp-test43-remote-load-path, tramp-test44-unload): Rename.

2018-06-13  Michael Albinus  <michael.albinus@gmx.de>

	* Makefile.in:
	* README: Simplify SELECTOR syntax.

2018-06-03  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test21-file-links): Adapt test.
	(tramp--test-emacs25-p): New defun.
	(tramp-test34-vc-registered): Use it.

2018-05-24  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test06-directory-file-name): Extend test.

2018-05-21  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test01-file-name-syntax): Extend test.

2018-05-11  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-utf8): Improve backward compatibility.

2018-05-06  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-utf8): Extend test.

2018-05-02  Michael Albinus  <michael.albinus@gmx.de>

	* Makefile.in (TESTS): Use tramp-archive-tests only when
	${REMOTE_TEMPORARY_FILE_DIRECTORY} is set.

	* README: Minor clarifications.

	* tramp-tests.el (tramp-smb-get-localname): Declare.
	(auth-source-save-behavior): Set it to nil.
	(tramp-test01-file-name-syntax): Extend, checking for linefeeds.
	(tramp-test03-file-name-host-rules, tramp--test-utf8): Refine tests.
	(tramp-test03-file-name-method-rules): New test.
	(tramp--test-ignore-add-name-to-file-error): New defmacro.
	(tramp-test21-file-links): Use it.

2018-03-30  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test03-file-name-host-rules):
	Skip for older Emacsen.

2018-03-29  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test03-file-name-host-rules): New test.
	(tramp--test-check-files): Encode string when testing
	environment variables.
	(tramp--test-utf8): Remove "TaiViet" test.
	(tramp-test39-utf8, tramp-test39-utf8-with-stat)
	(tramp-test39-utf8-with-perl, tramp-test39-utf8-with-ls):
	Remove :unstable tag.
2018-03-26  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test21-file-links): Test also quoted
	directories.

2018-03-23  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-expensive-test):
	Add the test name to the template.

2018-03-22  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test39-utf8)
	(tramp-test39-utf8-with-stat, tramp-test39-utf8-with-perl)
	(tramp-test39-utf8-with-ls): Tag the tests as :unstable.

2018-03-20  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-utf8): Apply more exhaustive tests.

2018-03-17  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-expensive-test): Make it a
	defsubst.  Adapt all callees.
	(tramp--test-print-duration): New defmacro.
	(tramp-test11-copy-file, tramp-test12-rename-file)
	(tramp-test21-file-links, tramp--test-special-characters):
	Run some parts only if expensive tests are enabled.  (Bug#30807)

2018-03-16  Michael Albinus  <michael.albinus@gmx.de>

	* Makefile.in (TRAMP_TEST_ARGS): Cosmetic changes.

	* README: More explanation.

	* tramp-archive-tests.el (tramp-archive-test99-libarchive-tests):
	Tag it :unstable.

2018-03-15  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test42-auto-load):
	Do not use "/ssh::" as test directory, it could harm.  (Bug#30807)

2018-03-15  Glenn Morris  <rgm@gnu.org>

	* tramp-tests.el (tramp-test41-asynchronous-requests):
	Use fewer processes on hydra.

2018-02-05  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test04-substitute-in-file-name):
	Adapt test.

2018-02-04  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test42-auto-load):
	Check also that tramp-archive is not loaded when Tramp is loaded.
	(tramp-archive-test42-delay-load): Adapt test messages.

2018-02-03  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (all): Use `tramp-archive-enabled'
	instead of `tramp-gvfs-enabled'.
	(tramp-archive--test-emacs27-p): New defun.
	(tramp-archive-test40-file-system-info): Rename from
	`tramp-archive-test40-archive-file-system-info.
	(tramp-archive-test42-auto-load)
	(tramp-archive-test42-delay-load): New tests.

2018-02-01  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-emacs27-p): New defun.
	(tramp-test11-copy-file, tramp-test12-rename-file)
	(tramp-test21-file-links, tramp-test24-file-acl)
	(tramp-test25-file-selinux, tramp--test-check-files): Use it.

2018-01-31  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test-directory): New defconst.
	(tramp-archive-test01-file-name-syntax): Extend test.
	(tramp-archive-test05-expand-file-name-non-archive-directory):
	New test.  (Bug#30293)

	* resources/foo.iso/foo: New file.

2018-01-30  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test01-file-name-syntax)
	(tramp-archive-test02-file-name-dissect)
	(tramp-archive-test16-directory-files)
	(tramp-archive-test26-file-name-completion): Adapt to changed
	test file.
	(tramp-archive-test08-file-local-copy): Be more robust in cleanup.

	* resources/baz.tar: New file.

	* resources/foo.tar.gz: Adapt to extended test.

2018-01-25  Michael Albinus  <michael.albinus@gmx.de>

	* Makefile.in: Use "$(builddir)" instead of "`pwd`".

2018-01-20  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test02-file-name-dissect)
	(tramp-test02-file-name-dissect-simplified)
	(tramp-test02-file-name-dissect-separate): Test also
	`tramp-default-method-alist', `tramp-default-user-alist' and
	`tramp-default-host-alist'.

2018-01-07  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test21-file-links): Do not call
	`make-symbolic-link' on w32.
	(tramp-test36-find-backup-file-name): Call also
	`convert-standard-filename' due to w32.
	(tramp--test-windows-nt): New defun.
	(tramp-test42-auto-load, tramp-test42-delay-load)
	(tramp-test42-recursive-load, tramp-test42-remote-load-path):
	Quote command due to w32.

2018-01-05  Michael Albinus  <michael.albinus@gmx.de>

	* Makefile.in (%-tests): Use ${SELECTOR}.

	* README: Rework.

	* tramp-tests.el (tramp-gvfs-handler-askquestion):
	Suppress run in tests.
	(tramp--test-owncloud-p): New defun.
	(tramp-test11-copy-file, tramp-test12-rename-file): Use it.

2018-01-04  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test37-make-nearby-temp-file):
	Wrap `temporary-file-directory' call with `with-no-warnings'.

	* tramp-tests.el (ert-x): Require it.
	(tramp-test10-write-region): Extend test.

2017-12-17  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-archive-tests.el (tramp-archive-test99-libarchive-tests):
	Rename it.

	* tramp-tests.el (tramp-test34-vc-registered): Skip for older Emacsen.

2017-12-16  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test32-environment-variables-and-port-numbers):
	Adapt check for systems which do not support "echo -n".  (Bug#29712)
	(tramp-test41-asynchronous-requests):
	Use $REMOTE_PARALLEL_PROCESSES.  Flush cache prior file operations.

2017-12-15  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test32-environment-variables-and-port-numbers):
	Skip for macOS.  (Bug#29712)

2017-12-10  Glenn Morris  <rgm@gnu.org>

	* tramp-archive-tests.el (tramp-archive-test06-directory-file-name):
	Add skip condition.

2017-12-09  Michael Albinus  <michael.albinus@gmx.de>

	* Makefile.in (TESTS): New variable.
	(check test): Use it.
	(.SECONDARY, %-tests): New targets.

	* tramp-archive-tests.el: New package.

	* resources: New data directory.

2017-12-09  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test21-file-links): Special code for "smb".

2017-12-08  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.3.3 released.

	* tramp-tests.el (tramp-test21-file-links): Extend test.
	(tramp-test42-delay-load, tramp-test42-remote-load-path):
	Skip unless Emacs >= 26.

2017-12-06  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test11-copy-file)
	(tramp-test12-rename-file, tramp-test24-file-acl)
	(tramp-test25-file-selinux, tramp--test-check-files):
	Handle also quoted file names.
	(tramp-test21-file-links): Fix file name quoting test.
	(tramp-test24-file-acl): Be more robust for "smb" method.
	(tramp-test35-make-auto-save-file-name): Enable hidden test cases.

2017-11-30  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test42-auto-load): Make it more
	robust.  Don't skip.

2017-11-29  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test06-directory-file-name): Extend test.
	(tramp-test17-insert-directory): Make check more robust.
	(tramp-test42-auto-load): Combine several let forms.
	(tramp-test42-delay-load, tramp-test42-recursive-load)
	(tramp-test42-remote-load-path, tramp-test43-unload): Rename.

2017-11-27  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-mock-p): New defun.
	(tramp-test32-environment-variables-and-port-numbers)
	(tramp-test41-asynchronous-requests): Use it.
	(tramp-test42-auto-load): New test.  (Bug#29163)
	(tramp-test43-recursive-load, tramp-test44-remote-load-path)
	(tramp-test45-delay-load, tramp-test46-unload): Rename.

2017-11-25  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test17-insert-directory): Add test for
	Bug#29423.

2017-11-19  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test24-file-acl): Check for local ACL
	support.  (Bug#29291)

2017-11-18  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test21-file-links): Check also
	relative symbolic links.

2017-11-17  Paul Eggert  <eggert@cs.ucla.edu>

	* tramp-tests.el: Spelling fixes.

2017-11-14  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test24-file-acl):
	Preserve permissions when copying.  (Bug#29291)
	(tramp-test25-file-selinux): Enhance test.  (Bug#29287)
	(tramp-test44-delay-load): Fix for older Emacsen.

2017-11-12  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test24-file-acl)
	(tramp-test25-file-selinux): New tests.
	(tramp-test26-file-name-completion, tramp-test27-load)
	(tramp-test28-process-file, tramp-test29-start-file-process)
	(tramp-test30-interrupt-process, tramp-test31-shell-command)
	(tramp-test32-environment-variables)
	(tramp-test32-environment-variables-and-port-numbers)
	(tramp-test33-explicit-shell-file-name)
	(tramp-test34-vc-registered)
	(tramp-test35-make-auto-save-file-name)
	(tramp-test36-find-backup-file-name)
	(tramp-test37-make-nearby-temp-file)
	(tramp-test38-special-characters)
	(tramp-test38-special-characters-with-stat)
	(tramp-test38-special-characters-with-perl)
	(tramp-test38-special-characters-with-ls, tramp-test39-utf8)
	(tramp-test39-utf8-with-stat, tramp-test39-utf8-with-perl)
	(tramp-test39-utf8-with-ls, tramp-test40-file-system-info)
	(tramp-test41-asynchronous-requests)
	(tramp-test42-recursive-load, tramp-test43-remote-load-path)
	(tramp-test44-delay-load, tramp-test45-unload): Rename.

2017-11-07  Glenn Morris  <rgm@gnu.org>

	* tramp-tests.el (tramp-test16-file-expand-wildcards):
	Clean up properly.

2017-11-05  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test42-delay-load): Extend test.

2017-10-26  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test34-find-backup-file-name): New test.
	(tramp-test35-make-nearby-temp-file)
	(tramp-test36-special-characters)
	(tramp-test36-special-characters-with-stat)
	(tramp-test36-special-characters-with-perl)
	(tramp-test36-special-characters-with-ls, tramp-test37-utf8)
	(tramp-test37-utf8-with-stat, tramp-test37-utf8-with-perl)
	(tramp-test37-utf8-with-ls, tramp-test38-file-system-info)
	(tramp-test39-asynchronous-requests)
	(tramp-test40-recursive-load, tramp-test41-remote-load-path)
	(tramp-test42-delay-load, tramp-test43-unload): Rename.

2017-10-24  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test41-delay-load): New test.
	(tramp-test42-unload): Rename.

2017-10-23  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-emacs26-p): Fix docstring.
	(tramp-test41-unload): Skip unless Emacs >= 26.

2017-10-20  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test11-copy-file)
	(tramp-test12-rename-file): Test also FILENAME being a directory.

2017-10-19  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test17-dired-with-wildcards): Skip for "rsync".

2017-10-10  Paul Eggert  <eggert@cs.ucla.edu>

	Typo fixes, mostly repeated words

2017-10-08  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test13-make-directory): Extend test.

2017-10-03  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test37-file-system-info): New test.
	(tramp-test38-asynchronous-requests)
	(tramp-test39-recursive-load, tramp-test40-remote-load-path)
	(tramp-test41-unload): Rename.

2017-09-30  Paul Eggert  <eggert@cs.ucla.edu>

	* tramp-tests.el: Spelling fixes.

2017-09-25  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test21-file-links): Special code for "smb".

2017-09-17  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test28-interrupt-process): Modify test.

2017-09-14  Paul Eggert  <eggert@cs.ucla.edu>

	Prefer HTTPS to FTP and HTTP in documentation

	Most of this change is to boilerplate commentary such as
	license URLs.  This change was prompted by ftp://ftp.gnu.org's
	going-away party, planned for November.  Change these FTP URLs
	to https://ftp.gnu.org instead.  Make similar changes for URLs
	to other organizations moving away from FTP.  Also, change
	HTTP to HTTPS for URLs to gnu.org and fsf.org when this works,
	as this will further help defend against man-in-the-middle
	attacks (for this part I omitted the MS-DOS and MS-Windows
	sources and the test tarballs to keep the workload down).
	HTTPS is not fully working to lists.gnu.org so I left those
	URLs alone for now.

2017-09-13  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (seq): Don't require.
	(tramp--test-emacs26-p): New defun.
	(tramp-test10-write-region, tramp-test11-copy-file)
	(tramp-test12-rename-file, tramp-test15-copy-directory)
	(tramp-test21-file-links): Use it.
	(tramp-test16-file-expand-wildcards): Use `copy-sequence'.

2017-09-12  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test11-copy-file)
	(tramp-test12-rename-file, tramp-test15-copy-directory)
	(tramp-test21-file-links): Extend tests.
	(tramp-test13-make-directory, tramp-test14-delete-directory):
	Specifiy error symbol in `should-error'.

2017-09-11  Paul Eggert  <eggert@cs.ucla.edu>

	* tramp-tests.el (tramp-test11-copy-file)
	(tramp-test12-rename-file, tramp-test15-copy-directory)
	(tramp--test-check-files): Adjust tests to match new behavior
	for target directory name.

2017-09-11  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test24-file-name-completion):
	Use variables but functions for file name components.

2017-09-04  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test21-file-links): Extend test.
	(tramp--test-check-files): Make check for "smb".

2017-08-30  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test08-file-local-copy)
	(tramp-test09-insert-file-contents): Test also file missing.
	(tramp-test21-file-links): Extend test.

2017-08-28  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-ignore-make-symbolic-link-error):
	New defmacro.
	(tramp-test18-file-attributes, tramp-test21-file-links)
	(tramp--test-check-files): Use it.

2017-08-27  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test21-file-links): Extend test.

2017-08-26  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test21-file-links): Extend test.

2017-08-24  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test28-interrupt-process): Extend test.

2017-08-22  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (top): Require seq.el.
	(tramp-test16-directory-files): Simplify.
	(tramp-test16-file-expand-wildcards): New test.
	(tramp-test28-interrupt-process): Skip for older Emacsen.

2017-08-21  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test40-unload): Do not test removal of advice.

2017-08-20  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test28-interrupt-process): New test.
	(tramp-test29-shell-command)
	(tramp-test30-environment-variables)
	(tramp-test30-environment-variables-and-port-numbers)
	(tramp-test31-explicit-shell-file-name)
	(tramp-test32-vc-registered)
	(tramp-test33-make-auto-save-file-name)
	(tramp-test34-make-nearby-temp-file)
	(tramp-test35-special-characters)
	(tramp-test35-special-characters-with-stat)
	(tramp-test35-special-characters-with-perl)
	(tramp-test35-special-characters-with-ls, tramp-test36-utf8)
	(tramp-test36-utf8-with-stat, tramp-test36-utf8-with-perl)
	(tramp-test36-utf8-with-ls)
	(tramp-test37-asynchronous-requests)
	(tramp-test38-recursive-load, tramp-test39-remote-load-path)
	(tramp-test40-unload): Rename.
	(tramp-test40-unload): Test also removal of advice.

2017-08-20  Paul Eggert  <eggert@cs.ucla.edu>

	* tramp-tests.el (tramp--test-utf8): Use utf-8-unix, not
	utf-8, for default-file-name-coding-system, so that CRLF in
	file names is left alone.

2017-08-17  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test36-asynchronous-requests):
	Set `default-directory' for watchdog.

2017-08-12  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test10-write-region): Add tests for MUSTBENEW.

2017-07-31  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-make-temp-name): Adapt docstring.
	(tramp-test17-dired-with-wildcards): Skip for all methods but
	those from tramp-sh.el.

2017-07-30  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test17-dired-with-wildcards): New test.

2017-07-27  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-timeout-handler): New defun.
	(tramp-test36-asynchronous-requests): Use a watchdog process,
	listening for SIGUSR1.

2017-07-25  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test39-unload): Check, that the
	`tramp-file-name' structure has been unloaded.

2017-07-18  Glenn Morris  <rgm@gnu.org>

	* tramp-tests.el: Replace NIX_STORE with EMACS_HYDRA_CI.

2017-07-17  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-instrument-test-case-p)
	(tramp--test-instrument-test-case): Rename.  Adapt all callees.
	(tramp-test39-unload): Expect it to pass.  Ignore buffer-local
	variables and autoload functions; they are not removed.  Check
	also for `-function(s)'.

2017-07-14  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test36-asynchronous-requests):
        Adjust timer if it takes too much time.  Don't use `add-to-list'.
	Bind `timer-max-repeats'.

2017-07-05  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test36-asynchronous-requests): Trigger timers.
	(tramp-test37-recursive-load, tramp-test38-remote-load-path):
	Set `default-directory' to a trustworthy value.

2017-07-03  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test36-asynchronous-requests):
	Remove instrumentation.  Wrap with a timeout.  Give hydra
	another timer value.  Set `default-directory' in timer.

2017-06-30  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.3.2 released.

	* tramp-tests.el (tramp-test-temporary-file-directory):
	Offer home directory for mock method if it doesn't exist.

2017-06-29  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (shell-command-sentinel): Suppress run in tests.
	(tramp--instrument-test-case-p): New defvar.
	(tramp--instrument-test-case): Use it in order to allow nested calls.
	(tramp--test-message, tramp--test-backtrace): New defsubst,
	will be used for occasional test instrumentation.
	(tramp-test00-availability, tramp-test31-vc-registered): Use them.
	(tramp-test28-shell-command)
	(tramp--test-shell-command-to-string-asynchronously): Suppress
	nasty messages.  Don't overwrite sentinel.
	(tramp-test36-asynchronous-requests): Rewrite major parts.
	Expect :passed.

2017-06-16  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test38-remote-load-path): New test.
	(tramp-test39-unload): Rename.

2017-06-14  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (top): Set also `tramp-cache-read-persistent-data'.

2017-06-11  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test24-file-name-completion):
	Support completion for host names and ports.

2017-06-05  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test05-expand-file-name-relative):
	Let it pass for all gfvs based methods.
	(tramp-test24-file-name-completion): Run method and host
	completion for all syntaxes only when expensive tests are enabled.
	Do not check host completion for gvfs based methods.
	(tramp--test-gvfs-p): Add optional METHOD argument.
	(tramp--test-afp-or-smb-p): Remove.

2017-05-28  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test03-file-name-defaults):
	Revert change from 2017-05-24.
	(tramp-test05-expand-file-name-relative): Let it also pass for
	"adb" method.

2017-05-24  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test03-file-name-defaults): Fix test
	according to new defstruct.
	(tramp-test29-environment-variables-and-port-numbers):
	Expect it now as passed.  Cleanup at the end.

2017-05-23  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test-temporary-file-directory):
	Declare default host for mock method.
	(tramp-test29-environment-variables-and-port-numbers): New test.

2017-05-19  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test05-expand-file-name-relative):
	Modify :expected-result rather than skip.

2017-05-18  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-afp-or-smb-p): New defun.
	(tramp-test05-expand-file-name-relative): Use it.
	(tramp-test38-unload): Run only in batch mode.

2017-05-16  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-change-syntax): Remove declaration,
	not needed anymore.
	(tramp-test05-expand-file-name-relative): New test.
	(tramp-test10-write-region): Extend test.

2017-05-12  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-change-syntax): Declare.

2017-05-09  Noam Postavsky  <npostavs@gmail.com>

	Revert "Output number of characters added to file (Bug#354)"

	The extra message text turned out to be quite annoying in
	practice, and is generally more trouble than it's worth.  Also
	revert several related changes.

	Partially revert "Handle `write-region' messages in Tramp properly"

	* tramp-tests.el (tramp-test10-write-region): Remove extra
	characters from file writing messages.

2017-05-08  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (ert-x): Require it.
	(tramp-test10-write-region): Extend test.

2017-05-02  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test24-file-name-completion):
	Run method and host name completion for all syntaxes.

2017-04-16  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test02-file-name-dissect-separate):
	Extend test.

2017-04-10  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test01-file-name-syntax-simplified)
	(tramp-test01-file-name-syntax-separate)
	(tramp-test02-file-name-dissect-simplified)
	(tramp-test02-file-name-dissect-separate): New tests.

2017-04-03  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test30-explicit-shell-file-name): New test.
	(tramp--test-special-characters, tramp--test-utf8): Adapt docstring.
	(tramp-test31-vc-registered)
	(tramp-test32-make-auto-save-file-name)
	(tramp-test33-make-nearby-temp-file)
	(tramp-test34-special-characters)
	(tramp-test34-special-characters-with-stat)
	(tramp-test34-special-characters-with-perl)
	(tramp-test34-special-characters-with-ls, tramp-test35-utf8)
	(tramp-test35-utf8-with-stat, tramp-test35-utf8-with-perl)
	(tramp-test35-utf8-with-ls)
	(tramp-test36-asynchronous-requests)
	(tramp-test37-recursive-load, tramp-test38-unload): Rename.

2017-03-23  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el: Add lexical-binding cookie.  Require 'dired.
	Move declarations up.
	(tramp-test32-make-nearby-temp-file): Wrap `make-nearby-temp-file'
	and `temporary-file-directory' calls with `with-no-warnings'.
	(tramp-test35-asynchronous-requests): Mark unused variable.

2017-03-14  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test24-file-name-completion):
	Reenable lost test case.

2017-03-13  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test01-file-name-syntax)
	(tramp-test02-file-name-dissect)
	(tramp-test03-file-name-defaults)
	(tramp-test06-directory-file-name): Adapt to the new syntax.
	(tramp-test11-copy-file, tramp-test12-rename-file)
	(tramp--test-check-files): Deactivate temporarily tests with
	quoted file names.
	(tramp-test16-directory-files, tramp-test17-insert-directory):
	Adapt tests.
	(tramp-test24-file-name-completion): Do not check for
	completion mode.
	(tramp-test31-make-auto-save-file-name): Deactivate temporarily
	two tests.

2017-03-10  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test06-directory-file-name)
	(tramp-test24-file-name-completion):
	Call `tramp-completion-mode-p' with argument.

2017-01-17  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test31-make-auto-save-file-name): Adapt test.

2016-12-27  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.3.1 released.

2016-12-23  Paul Eggert  <eggert@cs.ucla.edu>

	* tramp-tests.el (tramp--test-windows-nt-and-batch): Spelling fixes.

2016-12-23  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-check-files): Make it robust.

2016-12-21  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test03-file-name-defaults):
	Remove gateway tests.

2016-12-17  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test05-expand-file-name): Mark quoted
	file name as absolute.  (Bug#25183)
	(tramp--test-windows-nt-and-batch)
	(tramp--test-windows-nt-and-pscp-psftp-p): New defuns.
	(tramp--test-windows-nt-or-smb-p): Rename from
	`tramp--test-smb-windows-nt-p'.  Adapt callees.
	(tramp--test-check-files): Improve checks for environment variables.
	(tramp-test33-special-characters)
	(tramp-test33-special-characters-with-stat)
	(tramp-test33-special-characters-with-perl)
	(tramp-test33-special-characters-with-ls, tramp-test34-utf8)
	(tramp-test34-utf8-with-stat, tramp-test34-utf8-with-perl)
	(tramp-test34-utf8-with-ls): Add more checks for skip.

2016-12-15  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-check-files): Check also, that
	environment variables are set correctly.

2016-12-12  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-docker-p): New defun.
	(tramp--test-special-characters, tramp-test34-utf8)
	(tramp-test34-utf8-with-stat, tramp-test34-utf8-with-perl)
	(tramp-test34-utf8-with-ls): Use it.

2016-12-09  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-make-temp-name)
	(tramp-test18-file-attributes)
	(tramp-test31-make-auto-save-file-name)
	(tramp--test-check-files): Use changed defsubst names.

2016-12-04  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-expensive-test): New defvar.
	(tramp--test-make-temp-name): New argument QUOTED.
	(tramp-test01-file-name-syntax)
	(tramp-test02-file-name-dissect)
	(tramp-test04-substitute-in-file-name)
	(tramp-test05-expand-file-name, tramp-test07-file-exists-p)
	(tramp-test08-file-local-copy)
	(tramp-test09-insert-file-contents)
	(tramp-test10-write-region, tramp-test11-copy-file)
	(tramp-test12-rename-file, tramp-test13-make-directory)
	(tramp-test14-delete-directory, tramp-test15-copy-directory)
	(tramp-test16-directory-files)
	(tramp-test17-insert-directory)
	(tramp-test18-file-attributes)
	(tramp-test19-directory-files-and-attributes)
	(tramp-test20-file-modes, tramp-test21-file-links)
	(tramp-test22-file-times, tramp-test23-visited-file-modtime)
	(tramp-test24-file-name-completion, tramp-test25-load)
	(tramp-test26-process-file, tramp-test27-start-file-process)
	(tramp-test28-shell-command, tramp-test30-vc-registered)
	(tramp-test31-make-auto-save-file-name)
	(tramp--test-check-files)
	(tramp-test35-asynchronous-requests): Test also quoted file names.
	(tramp--test-shell-command-to-string-asynchronously): Rename.
	(tramp-test29-environment-variables): Use it.

2016-11-09  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test01-file-name-syntax): Multi-hop
	specs don't need a method.  "/h:" is allowed on not MS Windows.

2016-08-21  Paul Eggert  <eggert@cs.ucla.edu>

	* tramp-tests.el: Spelling fixes.

2016-08-10  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test32-make-nearby-temp-file):
	Skip for older Emacs versions.

2016-08-07  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test32-make-nearby-temp-file): New test.
	(tramp--test-special-characters, tramp--test-utf8): Adapt docstring.
	(tramp-test33-special-characters)
	(tramp-test33-special-characters-with-stat)
	(tramp-test33-special-characters-with-perl)
	(tramp-test33-special-characters-with-ls, tramp-test34-utf8)
	(tramp-test34-utf8-with-stat, tramp-test34-utf8-with-perl)
	(tramp-test34-utf8-with-ls)
	(tramp-test35-asynchronous-requests)
	(tramp-test36-recursive-load, tramp-test37-unload): Rename.

2016-07-15  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test06-directory-file-name):
	Check `tramp--test-enabled'.
	(tramp-test18-file-attributes): Add tests for
	`file-ownership-preserved-p'.
	(tramp--test-ftp-p): Simplify check.
	(tramp--test-sh-p): New defun.
	(tramp-test20-file-modes, tramp-test22-file-times)
	(tramp-test26-process-file, tramp-test27-start-file-process)
	(tramp-test28-shell-command)
	(tramp-test29-environment-variables)
	(tramp-test30-vc-registered)
	(tramp-test32-special-characters-with-stat)
	(tramp-test32-special-characters-with-perl)
	(tramp-test32-special-characters-with-ls)
	(tramp-test33-utf8-with-stat, tramp-test33-utf8-with-perl)
	(tramp-test33-utf8-with-ls)
	(tramp-test34-asynchronous-requests): Use it.
	(tramp-test--shell-command-to-string-asynchronously): Add timeout.

2016-07-14  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test27-start-file-process)
	(tramp-test28-shell-command): Reduce timeouts in
	`accept-process-output'.
	(tramp-test--shell-command-to-string-asynchronously):
	Add additional `accept-process-output' call.
	(tramp-test29-environment-variables): Remove additional sleep calls.

2016-07-14  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test29-environment-variables): Add "sleep 1"
	to tests.

2016-07-13  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test--shell-command-to-string-asynchronously):
	New defun.
	(tramp-test29-environment-variables): New test.
	(tramp-test30-vc-registered)
	(tramp-test31-make-auto-save-file-name)
	(tramp-test32-special-characters)
	(tramp-test32-special-characters-with-stat)
	(tramp-test32-special-characters-with-perl)
	(tramp-test32-special-characters-with-ls, tramp-test33-utf8)
	(tramp-test33-utf8-with-stat, tramp-test33-utf8-with-perl)
	(tramp-test33-utf8-with-ls)
	(tramp-test34-asynchronous-requests)
	(tramp-test35-recursive-load, tramp-test36-unload): Rename.

2016-07-09  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test18-file-attributes): Reorder test.

2016-07-05  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--instrument-test-case): Adapt docstring.
	(tramp-test14-delete-directory): Make further tests.

2016-07-04  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--instrument-test-case): Do not enable
	`tramp-message-show-message'.
	(tramp-test13-make-directory, tramp-test14-delete-directory):
	Do not specify error type.

2016-06-26  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.3.0 released.

	* tramp-tests.el (tramp-test15-copy-directory): Do not skip
	for tramp-smb.el.  Test also COPY-CONTENTS case.
	(tramp-test24-file-name-completion): Improve check for
	hostname completion.
	(tramp--test-rsync-p): New defun.
	(tramp-test31-special-characters)
	(tramp-test31-special-characters-with-stat)
	(tramp-test31-special-characters-with-perl)
	(tramp-test31-special-characters-with-ls, tramp-test32-utf8)
	(tramp-test32-utf8-with-stat, tramp-test32-utf8-with-perl)
	(tramp-test32-utf8-with-ls): Skip for "rsync".

2016-05-30  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test24-file-name-completion):
	Test also `completion-regexp-list' and `completion-ignored-extensions'.

2016-05-27  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test26-process-file)
	(tramp-test28-shell-command):
	Use `tramp-display-escape-sequence-regexp'.

2016-05-26  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test24-file-name-completion): Suppress
	some tests on MS Windows.  (Bug#23614)

2016-05-11  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test06-directory-file-name):
	Nullify `tramp-default-method' due to hydra.

2016-05-07  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test06-directory-file-name): Fix test.
	(tramp-test24-file-name-completion): Extend test.

2016-05-02  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test06-directory-file-name): Extend test.

2016-03-31  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-utf8): Improve settings of
	coding systems.

2016-01-11  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test29-vc-registered): Use `dired-uncache'
	instead of a Tramp internal function.

2016-01-10  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test29-vc-registered): Flush directory
	properties when needed.
	(tramp--test-darwin-p): Remove.
	(tramp--test-utf8): Include Arabic file name, again.

2016-01-05  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test26-process-file)
	(tramp-test27-start-file-process, tramp-test28-shell-command)
	(tramp-test29-vc-registered)
	(tramp-test31-special-characters-with-stat)
	(tramp-test31-special-characters-with-perl)
	(tramp-test31-special-characters-with-ls)
	(tramp-test32-utf8-with-stat, tramp-test32-utf8-with-perl)
	(tramp-test32-utf8-with-ls, tramp-test33-asynchronous-requests)
	(tramp-test35-unload): Tag the tests as :expensive-test.

2016-01-04  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test26-process-file): Move point properly.
	(tramp-test29-vc-registered): Work with relative file names.

2015-12-29  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.2.13 released.

2015-12-25  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test29-vc-registered): Move `bzr' case down.
	Skip test when `vc-create-repo' fails.

2015-12-20  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-darwin-p): New defun.
	(tramp--test-utf8): Use it.

2015-12-06  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test31-special-characters-with-perl)
	(tramp-test31-special-characters-with-ls)
	(tramp-test32-utf8-with-perl, tramp-test32-utf8-with-ls):
	Suppress also readlink.

2015-08-30  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test18-file-attributes): Adapt test.

2015-08-22  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test18-file-attributes): Handle the case
	"ln -s" fails.

2015-08-21  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test18-file-attributes): Handle symlinks
	with "//" in the file name.

2015-07-29  Michael Albinus  <michael.albinus@gmx.de>

	* Makefile.in (check test): Tune calls.

	* tramp-tests.el (tramp-test02-file-name-dissect): Add hop tests.

2015-07-24  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test31-*, tramp-test32-*): Implement using
	the documented interface `tramp-connection-properties', rather
	than with internal functions.

2015-07-23  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-persistency-file-name): Set to nil.
	(tramp--test-hpux-p): New defun.
	(tramp--test-utf8): Use it.

2015-07-19  Michael Albinus  <michael.albinus@gmx.de>

	* Makefile.in (TRAMP_TEST_ARGS): New variable.
	(check, test): Use it.

2015-07-18  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--instrument-test-case):
	Add "^make-symbolic-link not supported$" to `debug-ignored-errors'.
	(tramp-test13-make-directory, tramp--test-adb-p)
	(tramp--test-smb-or-windows-nt-p): Simplify.
	(tramp--test-ftp-p, tramp--test-gvfs-p): New defuns.
	(tramp--test-special-characters): Fix docstring.  Add gvfs and ftp
	tests.
	(tramp--test-utf8): Fix docstring.

2015-06-28  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.2.12 released.

	* tramp-tests.el (tramp-test13-make-directory): Fix cleanup.

2015-05-27  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test30-make-auto-save-file-name): New test.
	(tramp-test31-special-characters)
	(tramp-test31-special-characters-with-stat)
	(tramp-test31-special-characters-with-perl)
	(tramp-test31-special-characters-with-ls, tramp-test32-utf8)
	(tramp-test32-utf8-with-stat, tramp-test32-utf8-with-perl)
	(tramp-test32-utf8-with-ls, tramp-test33-asynchronous-requests)
	(tramp-test34-recursive-load, tramp-test35-unload): Rename.

2015-04-10  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test18-file-attributes)
	(tramp--test-check-files): Use `file-truename' for directories.

2015-03-24  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test18-file-attributes)
	(tramp--test-check-files): Extend tests.
	(tramp-test31-utf8): Do not skip for tramp-adb.el.

2015-03-17  Ken Brown  <kbrown@cornell.edu>

	* tramp-tests.el (tramp--test-special-characters): Don't test "\t"
	in file names on Cygwin.  (Bug#20119)

2015-02-22  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test17-insert-directory):
	Suppress localized settings in order to have a proper check for
	the summary line.

2015-02-04  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test06-directory-file-name): Fix docstring
	and last test.
	(tramp-test08-file-local-copy): Extend test.
	(tramp-test17-insert-directory): Do not expect any order in
	directory listing.

2015-02-01  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (top): Declare `tramp-get-remote-stat' and
	`tramp-get-remote-perl'.
	(tramp--test-check-files): Fix doxstring.  Add symlink test.
	(tramp--test-special-characters): New defun.  Use body from
	`tramp-test30-special-characters'.  Adapt check for tramp-adb.el.
	(tramp-test30-special-characters): Use it.
	(tramp--test-utf8): New defun.  Use body from
	`tramp-test31-utf8'.  Add test string.
	(tramp-test31-utf8): Use it.
	(tramp-test30-special-characters-with-stat)
	(tramp-test30-special-characters-with-perl)
	(tramp-test30-special-characters-with-ls):
	(tramp-test31-utf8-with-stat, tramp-test31-utf8-with-perl)
	(tramp-test31-utf8-with-ls): New tests.

2015-01-25  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test31-utf8): Skip for tramp-adb.el.

2015-01-20  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test13-make-directory): Test also PARENTS arg.
	(tramp--test-adb-p): New defun.
	(tramp-test30-special-characters): Use it.
	(tramp--test-check-files): Extend tests.

2014-12-30  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-smb-or-windows-nt-p): New defun.
	(tramp-test30-special-characters): Use it.  (Bug#19463)
	(tramp--test-check-files): Filter nil file names out.

2014-12-29  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.2.11 released.

	* tramp-tests.el (tramp-test30-special-characters):
	Skip test on MS-Windows.

2014-12-25  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test17-insert-directory): Do not expect a
	given order of "." and "..".

2014-12-03  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test29-vc-registered): Fallback for
	changed `vc-register' argument list.

2014-07-03  Michael Albinus  <michael.albinus@gmx.de>

	* .gitignore: Adjust.

2014-07-02  Michael Albinus  <michael.albinus@gmx.de>

	* README: $REMOTE_ALLOW_PASSWORD is not used anymore.

	* tramp-tests.el (tramp--instrument-test-case): Print debug buffer
	in any case.

2014-06-20  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test26-process-file): Extend test
	according to Bug#17815.

2014-06-15  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.2.10 released.

2014-06-13  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--instrument-test-case): Extend docstring.
	(tramp-test27-start-file-process, tramp-test28-shell-command):
	Retrieve process output more robustly.
	(tramp-test30-special-characters): Add further file names.

2014-06-02  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-remote-process-environment): Declare.
	(tramp-test29-vc-registered): Set $BZR_HOME.

2014-05-31  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-enabled): Ignore errors.
	(tramp-test15-copy-directory): Skip for tramp-smb.el.
	(tramp-test21-file-links): Use `file-truename' for directories.
	(tramp--test-check-files): Extend test with `substitute-in-file-name'.
	(tramp-test30-special-characters): Skip for tramp-adb.el,
	tramp-gvfs.el and tramp-smb.el.

2014-04-25  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (top): Do not disable interactive passwords in
	batch mode.

2014-04-24  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test-temporary-file-directory): Use a
	mock-up method as default.
	(tramp-test00-availability): Print the used directory name.
	(tramp-test33-recursive-load): Fix typo.

2014-04-22  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test19-directory-files-and-attributes)
	(tramp-test22-file-times): Check for `file-attributes' equality
	only if there is a usable timestamp.
	(tramp--test-check-files): Do not use `copy-sequence'.
	(tramp-test30-special-characters): Remove test for backslash.

2014-04-19  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-check-files): Extend test.
	(tramp-test31-utf8): Let-bind also `file-name-coding-system'.

2014-04-16  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test33-recursive-load): Extend test.

2014-04-14  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-check-files): New defun.
	(tramp-test30-special-characters, tramp-test31-utf8): Use it.

2014-04-13  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test30-special-characters): New test.
	(tramp-test31-utf8, tramp-test32-asynchronous-requests)
	(tramp-test33-recursive-load, tramp-test34-unload):  Rename.

2014-04-10  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test32-recursive-load)
	(tramp-test33-unload): New tests.

2014-03-19  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test11-copy-file)
	(tramp-test12-rename-file, tramp-test21-file-links): Extend tests.

2014-03-17  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--instrument-test-case): Show messages.
	(tramp-test20-file-modes): More robust check for user "root".
	(tramp-test21-file-links): Do not compare directories if
	`tramp-test-temporary-file-directory' is a symlink.

2014-03-14  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-copy-size-limit): Set to nil.
	(tramp--test-make-temp-name): Optional argument LOCAL.
	(tramp-test10-write-region): No special test for out-of-band copy
	needed anymore.
	(tramp-test11-copy-file, tramp-test12-rename-file)
	(tramp-test21-file-links): Use it.

2014-03-13  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-make-temp-name): Optional argument DIR.
	(tramp--instrument-test-case): Catch also `quit'.
	(tramp-test10-write-region): `tramp-copy-size-limit' can be nil.
	(tramp-test11-copy-file, tramp-test12-rename-file): Extend tests.

2014-03-07  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-copy-size-limit): Declare.
	(tramp-test10-write-region): Extend for out-of-band copy.
	(tramp-test31-asynchronous-requests): New test.

2014-02-28  Michael Albinus  <michael.albinus@gmx.de>

	* Makefile.in (test): New target.
	(.PHONY): Add it.

	* tramp-tests.el (tramp--test-enabled)
	(tramp-test15-copy-directory): No special handling of tramp-adb.el
	anymore.  It's fixed in that package.

2014-02-27  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--test-enabled): Move connection cleanup
	into this function.  Remove respective code from all test cases.
	(tramp--instrument-test-case): Declare `indent' and `debug'.
	Handle other errors as well.
	(tramp-test14-delete-directory): Check for `file-error' error.
	(tramp-test15-copy-directory): Ignore return value of
	`copy-directory'.  It's too much hassle to handle it for tramp-adb.el.
	(tramp-test19-directory-files-and-attributes): Take care of
	timestamp of "../".
	(tramp-test20-file-modes, tramp-test27-start-file-process)
	(tramp-test28-shell-command): Skip for tramp-adb.el.
	(tramp-test21-file-links): `file-truename' shall preserve trailing
	link of directories.
	(tramp-test22-file-times): Skip if `set-file-times' returns nil.
	(tramp-test26-process-file, tramp-test28-shell-command): Let-bind
	`kill-buffer-query-functions' to nil.
	(tramp-test28-shell-command): Run `async-shell-command' with timeouts.

2014-02-21  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test19-directory-files-and-attributes):
	Do not include directories in comparison; they might have changed
	their timestamps already.

2014-02-20  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp--instrument-test-case): New macro.
	(tramp-test17-insert-directory): First line could contain more
	text, when produced by `ls-lisp'.
	(tramp-test19-directory-files-and-attributes): Instrument failed
	test case.

2014-02-19  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test17-insert-directory): Make first line
	"total 123" optional.
	(tramp-test20-file-modes, tramp-test22-file-times)
	(tramp-test26-process-file, tramp-test27-start-file-process)
	(tramp-test28-shell-command): Skip for tramp-gvfs.el and
	tramp-smb.el.
	(tramp-test20-file-modes): Check for "root" only when there is an
	explicit user name.
	(tramp-test21-file-links): Handle "... not supported" error.
	(tramp-test22-file-times): Skip for "don't know" return values.
	(tramp-test26-process-file, tramp-test28-shell-command):
	Remove color escape sequences.
	(tramp-test28-shell-command): Use `accept-process-output' rather
	than `sit-for'.
	(tramp-test30-utf8): Set coding system `utf-8'.

2014-02-17  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test28-shell-command): Perform an initial
	`sit-for' prior the while loop.

2014-02-16  Michael Albinus  <michael.albinus@gmx.de>

	Version 2.2.9 released.

	* tramp-tests.el (password-cache-expiry): Set to nil.
	(tramp-test28-shell-command): Make a while loop when waiting for
	process exit.

2014-02-11  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (top): Require `vc', `vc-bzr', `vc-git' and
	`vc-hg'.  Declare `tramp-find-executable' and `tramp-get-remote-path'.
	(tramp-test29-vc-registered): New test.
	(tramp-test30-utf8): Rename from `tramp-test29-utf8'.

2014-02-07  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test26-process-file): Improve test.
	(tramp-test27-start-file-process): Use "_p" as argument of lambda.
	(tramp-test28-shell-command): Improve `shell-command' test.  Add
	`async-shell-command' tests.

2013-11-27  Michael Albinus  <michael.albinus@gmx.de>

	* README:
	* tramp-tests.el (tramp-test-temporary-file-directory): Use
	$REMOTE_TEMPORARY_FILE_DIRECTORY.
	(tramp-read-passwd): Check $REMOTE_ALLOW_PASSWORD.

2013-11-16  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test07-file-exists-p)
	(tramp-test08-file-local-copy)
	(tramp-test09-insert-file-contents, tramp-test10-write-region)
	(tramp-test11-copy-file, tramp-test12-rename-file)
	(tramp-test13-make-directory, tramp-test14-delete-directory)
	(tramp-test15-copy-directory, tramp-test16-directory-files)
	(tramp-test17-insert-directory, tramp-test18-file-attributes)
	(tramp-test19-directory-files-and-attributes)
	(tramp-test20-file-modes, tramp-test21-file-links)
	(tramp-test22-file-times, tramp-test23-visited-file-modtime)
	(tramp-test24-file-name-completion, tramp-test25-load)
	(tramp-test26-process-file, tramp-test27-start-file-process)
	(tramp-test28-shell-command): Cleanup connection initially.

2013-11-15  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test15-copy-directory)
	(tramp-test16-directory-files, tramp-test17-insert-directory)
	(tramp-test18-file-attributes)
	(tramp-test19-directory-files-and-attributes)
	(tramp-test20-file-modes, tramp-test21-file-links)
	(tramp-test22-file-times, tramp-test23-visited-file-modtime)
	(tramp-test24-file-name-completion, tramp-test25-load)
	(tramp-test26-process-file, tramp-test27-start-file-process):
	(tramp-test28-shell-command): Protect unwindforms with
	`ignore-errors'.
	(tramp-test29-utf8): New test.

2013-11-13  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el (tramp-test02-file-name-dissect)
	(tramp-test03-file-name-defaults, tramp-test21-file-links): Add tests.
	(tramp-test26-process-file, tramp-test28-shell-command): Ensure,
	that the directory is not empty when calling "ls".

2013-11-11  Michael Albinus  <michael.albinus@gmx.de>

	* .gitignore: New file.

	* Makefile.in (EM): Add "-L ../lisp".
	(%.elc): Remove current directory.

	* README: Explain environment variables.

	* tramp-tests.el (tramp-test-temporary-file-directory): Check
	$TRAMP_TEST_TEMPORARY_FILE_DIRECTORY.
	(tramp-read-passwd): Check $TRAMP_TEST_ALLOW_PASSWORD.
	(tramp-test09-insert-file-contents, tramp-test10-write-region):
	(tramp-test26-process-file): Add tests.
	(tramp-test11-copy-file): Remove debug message.
	(tramp-test20-file-modes): Special case, if user is "root".

2013-11-08  Michael Albinus  <michael.albinus@gmx.de>

	* tramp-tests.el: Add `tramp-own-remote-path' to
	`tramp-remote-path' when running on hydra.
	(tramp-test07-file-exists-p): Remove instrumentation code.
	(tramp-test26-process-file): Don't use "/bin/true" and
	"/bin/false", these paths do not exist on hydra.

2013-11-07  Michael Albinus  <michael.albinus@gmx.de>

	* Makefile.in:
	* README:
	* tramp-tests.el: New files.
